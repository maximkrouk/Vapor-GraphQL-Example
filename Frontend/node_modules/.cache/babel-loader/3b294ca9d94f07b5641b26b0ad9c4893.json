{"remainingRequest":"/Users/maximkrouk/Develop/Swift/Vapor/todos/Frontend/node_modules/babel-loader/lib/index.js!/Users/maximkrouk/Develop/Swift/Vapor/todos/Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/maximkrouk/Develop/Swift/Vapor/todos/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maximkrouk/Develop/Swift/Vapor/todos/Frontend/src/components/AddTodo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos/Frontend/src/components/AddTodo.vue","mtime":1589659474321},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos/Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICcnLAogICAgICBjb21tZW50OiAnJywKICAgICAgbmFtZVN0YXRlOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY2hlY2tGb3JtVmFsaWRpdHk6IGZ1bmN0aW9uIGNoZWNrRm9ybVZhbGlkaXR5KCkgewogICAgICB2YXIgdmFsaWQgPSB0aGlzLiRyZWZzLmZvcm0uY2hlY2tWYWxpZGl0eSgpOwogICAgICB0aGlzLm5hbWVTdGF0ZSA9IHZhbGlkOwogICAgICByZXR1cm4gdmFsaWQ7CiAgICB9LAogICAgcmVzZXRNb2RhbDogZnVuY3Rpb24gcmVzZXRNb2RhbCgpIHsKICAgICAgdGhpcy5uYW1lID0gJyc7CiAgICAgIHRoaXMubmFtZVN0YXRlID0gbnVsbDsKICAgIH0sCiAgICBoYW5kbGVPazogZnVuY3Rpb24gaGFuZGxlT2soYnZNb2RhbEV2dCkgewogICAgICAvLyBQcmV2ZW50IG1vZGFsIGZyb20gY2xvc2luZwogICAgICBidk1vZGFsRXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vIFRyaWdnZXIgc3VibWl0IGhhbmRsZXIKCiAgICAgIHRoaXMuaGFuZGxlU3VibWl0KCk7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvLyBFeGl0IHdoZW4gdGhlIGZvcm0gaXNuJ3QgdmFsaWQKICAgICAgaWYgKCF0aGlzLmNoZWNrRm9ybVZhbGlkaXR5KCkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBpbnB1dCA9IHsKICAgICAgICB0aXRsZTogdGhpcy5uYW1lLAogICAgICAgIGNvbnRlbnQ6IHRoaXMuY29tbWVudAogICAgICB9OwogICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3RvZG9zLyIsIHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB0aGlzLnVzZXIudG9rZW4KICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGlucHV0KQogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoIm9uQWRkZWQiKTsKICAgICAgfSk7IC8vIEhpZGUgdGhlIG1vZGFsIG1hbnVhbGx5CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJGJ2TW9kYWwuaGlkZSgnbW9kYWwtcHJldmVudC1jbG9zaW5nJyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXI6IGZ1bmN0aW9uIHVzZXIoKSB7CiAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["AddTodo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA,CAAA,IAAA,CAAA,aAAA,EAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,aAAA,KAAA;AACA,KALA;AAMA,IAAA,UANA,wBAMA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,KATA;AAUA,IAAA,QAVA,oBAUA,UAVA,EAUA;AACA;AACA,MAAA,UAAA,CAAA,cAAA,GAFA,CAGA;;AACA,WAAA,YAAA;AACA,KAfA;AAgBA,IAAA,YAhBA,0BAgBA;AAAA;;AACA;AACA,UAAA,CAAA,KAAA,iBAAA,EAAA,EAAA;AACA;AACA;;AAEA,UAAA,KAAA,GAAA;AACA,QAAA,KAAA,EAAA,KAAA,IADA;AAEA,QAAA,OAAA,EAAA,KAAA;AAFA,OAAA;AAKA,MAAA,KAAA,CAAA,8BAAA,EAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AACA,0BAAA,kBADA;AAEA,2BAAA,YAAA,KAAA,IAAA,CAAA;AAFA,SAFA;AAMA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA;AANA,OAAA,CAAA,CAOA,IAPA,CAOA;AAAA,eAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AAAA,OAPA,EAXA,CAoBA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,uBAAA;AACA,OAFA;AAGA;AAxCA,GARA;AAkDA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;AACA;AAHA;AAlDA,CAAA","sourcesContent":["<template>\n  <div style=\"display: inline\">\n    <b-button class=\"mr-2\" size=\"sm\" variant=\"light\" v-b-modal.modal-prevent-closing>Add</b-button>\n    <b-modal\n      id=\"modal-prevent-closing\"\n      ref=\"modal\"\n      title=\"New todo\"\n      centered\n      @show=\"resetModal\"\n      @hidden=\"resetModal\"\n      @ok=\"handleOk\"\n    >\n      <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\n        <b-form-group\n          :state=\"nameState\"\n          label-for=\"name-input\"\n          invalid-feedback=\"Title is required\"\n        >\n          <b-form-input\n            id=\"name-input\"\n            placeholder=\"Title\"\n            v-model=\"name\"\n            :state=\"nameState\"\n            required\n          ></b-form-input>\n        </b-form-group>\n        <b-form-textarea\n        id=\"comment-input\"\n        placeholder=\"Comment\"\n        rows=\"3\"\n        max-rows=\"8\"\n        v-model=\"comment\"\n        no-auto-shrink\n      ></b-form-textarea>\n      </form>\n    </b-modal>\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        name: '',\n        comment: '',\n        nameState: null,\n      }\n    },\n    methods: {\n      checkFormValidity() {\n        const valid = this.$refs.form.checkValidity()\n        this.nameState = valid\n        return valid\n      },\n      resetModal() {\n        this.name = ''\n        this.nameState = null\n      },\n      handleOk(bvModalEvt) {\n        // Prevent modal from closing\n        bvModalEvt.preventDefault()\n        // Trigger submit handler\n        this.handleSubmit()\n      },\n      handleSubmit() {\n        // Exit when the form isn't valid\n        if (!this.checkFormValidity()) {\n          return\n        }\n        \n        var input = {\n          title: this.name,\n          content: this.comment\n        }\n\n        fetch(\"http://localhost:8080/todos/\", {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + this.user.token\n          },\n          body: JSON.stringify(input)\n        }).then(() => this.$emit(\"onAdded\"))\n        \n        // Hide the modal manually\n        this.$nextTick(() => {\n          this.$bvModal.hide('modal-prevent-closing')\n        })\n      }\n    },\n    computed: {\n      user() {\n        return JSON.parse(localStorage.getItem('user'))\n      }\n    }\n  }\n</script>"],"sourceRoot":"src/components"}]}