{"remainingRequest":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/babel-loader/lib/index.js!/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/src/components/Login.vue","mtime":1589883908665},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5wdXQ6IHsKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBmZXRjaCgiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VzZXJzL2xvZ2luIiwgewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICB9LAogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRoaXMuaW5wdXQpCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcXVlc3QpIHsKICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXNUZXh0LnRvTG93ZXJDYXNlKCkgPT0gIm9rIikgewogICAgICAgICAgcmVxdWVzdC5qc29uKCkudGhlbihmdW5jdGlvbiAoanNvbikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShqc29uKSk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd3QnLCBqc29uLnRva2VuKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuJGVtaXQoJ29uTG9naW4nKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdG9SZWdpc3RlcjogZnVuY3Rpb24gdG9SZWdpc3RlcigpIHsKICAgICAgdGhpcy4kZW1pdCgidG9SZWdpc3RlciIpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGp3dDogZnVuY3Rpb24gand0KCkgewogICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2p3dCcpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA;AADA,KAAA;AAMA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,MAAA,KAAA,CAAA,mCAAA,EAAA;AACA,QAAA,MAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA,SAFA;AAKA,QAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA,KAAA,KAAA;AALA,OAAA,CAAA,CAOA,IAPA,CAOA,UAAA,OAAA,EAAA;AACA,YAAA,OAAA,CAAA,UAAA,CAAA,WAAA,MAAA,IAAA,EAAA;AACA,UAAA,OAAA,CACA,IADA,GAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,YAAA,YAAA,CAAA,OAAA,CAAA,KAAA,EAAA,IAAA,CAAA,KAAA;AACA,WALA,EAMA,IANA,CAMA;AAAA,mBAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA;AAAA,WANA;AAOA;AACA,OAjBA;AAkBA,KApBA;AAqBA,IAAA,UArBA,wBAqBA;AACA,WAAA,KAAA,CAAA,YAAA;AACA;AAvBA,GATA;AAkCA,EAAA,QAAA,EAAA;AACA,IAAA,GADA,iBACA;AACA,aAAA,YAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA;AAHA;AAlCA,CAAA","sourcesContent":["<template>\n    <b-container class=\"h-100\">\n        <div class=\"d-flex align-items-center justify-content-center h-100 w-70\">\n            <div class=\"d-flex flex-column\">\n                <b-form-input class=\"mt-2\" v-model=\"input.username\" placeholder=\"Username\"></b-form-input>\n                <b-form-input class=\"mt-2\" v-model=\"input.password\" placeholder=\"Password\"></b-form-input>\n                <b-button variant=\"primary\" class=\"w-75 mt-2 mx-auto\" @click=\"login\">Login</b-button>\n                <b-button @click=\"toRegister\" variant=\"outline-primary\" class=\"w-75 mt-2 mx-auto\">Go to register</b-button>\n            </div>\n        </div>\n    </b-container>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            input: {\n                username: \"\",\n                password: \"\",\n            }\n        }\n    },\n    methods: {\n        login() {\n            fetch(\"http://localhost:8080/users/login\", {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.input)\n            })\n            .then((request) => {\n                if (request.statusText.toLowerCase() == \"ok\") {\n                    request\n                        .json()\n                        .then((json) => {\n                            console.log(JSON.stringify(json))\n                            localStorage.setItem('jwt', json.token)\n                        })\n                        .then(() => this.$emit('onLogin'))\n                }\n            })\n        },\n        toRegister() {\n            this.$emit(\"toRegister\")\n        }\n    },\n    computed: {\n        jwt() {\n            return localStorage.getItem('jwt')\n        }\n    }\n}\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/components"}]}