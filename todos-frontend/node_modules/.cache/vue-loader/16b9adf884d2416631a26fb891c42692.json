{"remainingRequest":"/Users/maximkrouk/Develop/JS/my-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maximkrouk/Develop/JS/my-app/src/components/AddTodo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maximkrouk/Develop/JS/my-app/src/components/AddTodo.vue","mtime":1589548746958},{"path":"/Users/maximkrouk/Develop/JS/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/JS/my-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/JS/my-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/JS/my-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmFtZTogJycsCiAgICAgIGNvbW1lbnQ6ICcnLAogICAgICBuYW1lU3RhdGU6IG51bGwsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja0Zvcm1WYWxpZGl0eSgpIHsKICAgICAgY29uc3QgdmFsaWQgPSB0aGlzLiRyZWZzLmZvcm0uY2hlY2tWYWxpZGl0eSgpCiAgICAgIHRoaXMubmFtZVN0YXRlID0gdmFsaWQKICAgICAgcmV0dXJuIHZhbGlkCiAgICB9LAogICAgcmVzZXRNb2RhbCgpIHsKICAgICAgdGhpcy5uYW1lID0gJycKICAgICAgdGhpcy5uYW1lU3RhdGUgPSBudWxsCiAgICB9LAogICAgaGFuZGxlT2soYnZNb2RhbEV2dCkgewogICAgICAvLyBQcmV2ZW50IG1vZGFsIGZyb20gY2xvc2luZwogICAgICBidk1vZGFsRXZ0LnByZXZlbnREZWZhdWx0KCkKICAgICAgLy8gVHJpZ2dlciBzdWJtaXQgaGFuZGxlcgogICAgICB0aGlzLmhhbmRsZVN1Ym1pdCgpCiAgICB9LAogICAgaGFuZGxlU3VibWl0KCkgewogICAgICAvLyBFeGl0IHdoZW4gdGhlIGZvcm0gaXNuJ3QgdmFsaWQKICAgICAgaWYgKCF0aGlzLmNoZWNrRm9ybVZhbGlkaXR5KCkpIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICAKICAgICAgdmFyIGlucHV0ID0gewogICAgICAgIHRpdGxlOiB0aGlzLm5hbWUsCiAgICAgICAgY29tbWVudDogdGhpcy5jb21tZW50CiAgICAgIH0KCiAgICAgIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjgwODAvdG9kb3MvIiwgewogICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiAnQmVhcmVyICcgKyB0aGlzLnVzZXIudG9rZW4KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGlucHV0KQogICAgICAgICAgfSkKICAgICAgCiAgICAgIC8vIEhpZGUgdGhlIG1vZGFsIG1hbnVhbGx5CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoJ21vZGFsLXByZXZlbnQtY2xvc2luZycpCiAgICAgIH0pCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdXNlcigpIHsKICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["AddTodo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddTodo.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"display: inline\">\n    <b-button class=\"mr-2\" size=\"sm\" variant=\"light\" v-b-modal.modal-prevent-closing>Add</b-button>\n    <b-modal\n      id=\"modal-prevent-closing\"\n      ref=\"modal\"\n      title=\"New todo\"\n      centered\n      @show=\"resetModal\"\n      @hidden=\"resetModal\"\n      @ok=\"handleOk\"\n    >\n      <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\n        <b-form-group\n          :state=\"nameState\"\n          label-for=\"name-input\"\n          invalid-feedback=\"Title is required\"\n        >\n          <b-form-input\n            id=\"name-input\"\n            placeholder=\"Title\"\n            v-model=\"name\"\n            :state=\"nameState\"\n            required\n          ></b-form-input>\n        </b-form-group>\n        <b-form-textarea\n        id=\"comment-input\"\n        placeholder=\"Comment\"\n        rows=\"3\"\n        max-rows=\"8\"\n        v-model=\"comment\"\n        no-auto-shrink\n      ></b-form-textarea>\n      </form>\n    </b-modal>\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        name: '',\n        comment: '',\n        nameState: null,\n      }\n    },\n    methods: {\n      checkFormValidity() {\n        const valid = this.$refs.form.checkValidity()\n        this.nameState = valid\n        return valid\n      },\n      resetModal() {\n        this.name = ''\n        this.nameState = null\n      },\n      handleOk(bvModalEvt) {\n        // Prevent modal from closing\n        bvModalEvt.preventDefault()\n        // Trigger submit handler\n        this.handleSubmit()\n      },\n      handleSubmit() {\n        // Exit when the form isn't valid\n        if (!this.checkFormValidity()) {\n          return\n        }\n        \n        var input = {\n          title: this.name,\n          comment: this.comment\n        }\n\n        fetch(\"http://localhost:8080/todos/\", {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + this.user.token\n                },\n                body: JSON.stringify(input)\n            })\n        \n        // Hide the modal manually\n        this.$nextTick(() => {\n          this.$bvModal.hide('modal-prevent-closing')\n        })\n      }\n    },\n    computed: {\n      user() {\n        return JSON.parse(localStorage.getItem('user'))\n      }\n    }\n  }\n</script>"]}]}