{"remainingRequest":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/src/components/Register.vue","mtime":1589883670152},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maximkrouk/Develop/Swift/Vapor/todos-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaW5wdXQ6IHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaGVscGVyOiB7CiAgICAgICAgICAgICAgICBjb25maXJtUGFzc3dvcmQ6ICIiLAogICAgICAgICAgICAgICAgaW5pdGlhbFN0YXRlOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHJlZ2lzdGVyKCkgewogICAgICAgICAgICB0aGlzLmluaXRpYWxTdGF0ZSA9IGZhbHNlCiAgICAgICAgICAgIGlmICghdGhpcy5kb1Bhc3N3b3Jkc01hdGNoKSB7IHJldHVybiB9CiAgICAgICAgICAgIGZldGNoKCJodHRwOi8vbG9jYWxob3N0OjgwODAvdXNlcnMvIiwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRoaXMuaW5wdXQpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC50aGVuKChyZXF1ZXN0KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXNUZXh0LnRvTG93ZXJDYXNlKCkgPT0gIm9rIikgewogICAgICAgICAgICAgICAgICAgIHJlcXVlc3QKICAgICAgICAgICAgICAgICAgICAgICAgLmpzb24oKQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoanNvbikgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coanNvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdqd3QnLCBqc29uLnRva2VuKQogICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB0aGlzLiRlbWl0KCdvbkxvZ2luJykpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB0b0xvZ2luKCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCd0b0xvZ2luJykKICAgICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBkb1Bhc3N3b3Jkc01hdGNoKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dC5wYXNzd29yZCA9PSB0aGlzLmhlbHBlci5jb25maXJtUGFzc3dvcmQKICAgICAgICB9LAogICAgICAgIGp3dCgpIHsKICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdqd3QnKQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <b-container class=\"h-100\">\n        <div class=\"d-flex align-items-center justify-content-center h-100 w-70\">\n            <div class=\"d-flex flex-column\">\n                <b-form-input class=\"mt-2\" v-model=\"input.username\" placeholder=\"Username\"></b-form-input>\n                <b-form-input class=\"mt-2\" v-model=\"input.password\" placeholder=\"Password\"></b-form-input>\n                <b-form-input class=\"mt-2\" v-model=\"helper.confirmPassword\" placeholder=\"Confirm password\"></b-form-input>\n                <div v-show=\"!doPasswordsMatch && !initialState\"> \n                    \"Passwords do not match\"\n                </div>\n                <b-button variant=\"primary\" class=\"w-75 mt-2 mx-auto\" @click=\"register\">Register</b-button>\n                <b-button @click=\"toLogin\" variant=\"outline-primary\" class=\"w-75 mt-2 mx-auto\">Go to login</b-button>\n            </div>\n        </div>\n    </b-container>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n            input: {\n                username: \"\",\n                password: \"\",\n            },\n            helper: {\n                confirmPassword: \"\",\n                initialState: true\n            }\n        }\n    },\n    methods: {\n        register() {\n            this.initialState = false\n            if (!this.doPasswordsMatch) { return }\n            fetch(\"http://localhost:8080/users/\", {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(this.input)\n            })\n            .then((request) => {\n                if (request.statusText.toLowerCase() == \"ok\") {\n                    request\n                        .json()\n                        .then((json) => {\n                            console.log(json)\n                            localStorage.setItem('jwt', json.token)\n                        })\n                        .then(() => this.$emit('onLogin'))\n                }\n            })\n        },\n        toLogin() {\n            this.$emit('toLogin')\n        }\n    },\n    computed: {\n        doPasswordsMatch() {\n            return this.input.password == this.helper.confirmPassword\n        },\n        jwt() {\n            return localStorage.getItem('jwt')\n        }\n    }\n}\n</script>\n\n<style>\n</style>"]}]}